<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trackify</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="logo.webp" type="image/x-icon">
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <img src="logo.webp" alt="User">
            <ul class="menu">
                <li><a href="index.html">üè† Home</a></li>
                <li><a href="expenses.html">üí∞ Expenses</a></li>
                <li><a href="teams.html">üë• Teams</a></li>
                <li><a href="approvals.html">‚úÖ Approvals</a></li>
                <li><a href="reports.html">üìä Reports</a></li>
                <li class="active"><a href="support.html">üìû Support</a></li>
                <li><a href="#" onclick="logout()">üî¥ Logout</a></li>
            </ul>
        </div>

        <div class="main">
            <h2>Support Center</h2>

            <div class="support-section">
                <div class="support-options">
                    <div class="support-card">
                        <h3>üìß Contact Support</h3>
                        <p>Send us a message and we'll get back to you within 24 hours.</p>
                    </div>

                    <div class="support-card">
                        <h3>üìö Documentation</h3>
                        <p>Browse our comprehensive guides and tutorials.</p>
                        <a href="#" class="support-link">View Documentation</a>
                    </div>

                    <div class="support-card">
                        <h3>‚ùì FAQ</h3>
                        <p>Find quick answers to commonly asked questions.</p>
                        <a href="#faq" class="support-link">View FAQ</a>
                    </div>
                </div>

                <form id="supportForm" class="support-form">
                    <h3>Contact Form</h3>

                    <div class="form-group">
                        <label for="supportName">Your Name *</label>
                        <input type="text" id="supportName" placeholder="Enter your full name" required>
                    </div>

                    <div class="form-group">
                        <label for="supportEmail">Email Address *</label>
                        <input type="email" id="supportEmail" placeholder="Enter your email" required>
                    </div>

                    <div class="form-group">
                        <label for="supportCategory">Category *</label>
                        <select id="supportCategory" required>
                            <option value="">Select a category</option>
                            <option value="Technical Issue">Technical Issue</option>
                            <option value="Bug Report">Bug Report</option>
                            <option value="Feature Request">Feature Request</option>
                            <option value="Account Help">Account Help</option>
                            <option value="Billing Question">Billing Question</option>
                            <option value="General Inquiry">General Inquiry</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="supportPriority">Priority *</label>
                        <select id="supportPriority" required>
                            <option value="">Select priority</option>
                            <option value="Low">Low</option>
                            <option value="Medium">Medium</option>
                            <option value="High">High</option>
                            <option value="Urgent">Urgent</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="supportSubject">Subject *</label>
                        <input type="text" id="supportSubject" placeholder="Brief description of your issue" required>
                    </div>

                    <div class="form-group">
                        <label for="supportMessage">Message *</label>
                        <textarea id="supportMessage" rows="5"
                            placeholder="Please provide detailed information about your issue..." required></textarea>
                    </div>

                    <button type="submit">Send Message</button>
                </form>

                <div id="supportResponse"></div>

                <div id="faq" class="faq-section">
                    <h3>Frequently Asked Questions</h3>

                    <div class="faq-item">
                        <h4>How do I submit an expense for approval?</h4>
                        <p>Go to the Expenses page, fill out the expense form with all required details, and click
                            "Submit Expense for Approval". The expense will then appear in the Approvals section for
                            review.</p>
                    </div>

                    <div class="faq-item">
                        <h4>How can I add team members?</h4>
                        <p>Navigate to the Teams page, fill in the team member's name, email, and role, then click "Add
                            Team Member". They will be available for expense assignment.</p>
                    </div>

                    <div class="faq-item">
                        <h4>Can I export expense reports?</h4>
                        <p>Yes! Go to the Reports page, select your desired filters and report type, then click "Export
                            to CSV" to download a spreadsheet of your expense data.</p>
                    </div>

                    <div class="faq-item">
                        <h4>What happens to rejected expenses?</h4>
                        <p>Rejected expenses are moved to a separate list and can be viewed in the Approvals section by
                            selecting the "Rejected" filter. The rejection reason is also recorded.</p>
                    </div>

                    <div class="faq-item">
                        <h4>How do I approve or reject expenses?</h4>
                        <p>In the Approvals page, you'll see all pending expenses with "Approve" and "Reject" buttons.
                            Click the appropriate button to process each expense.</p>
                    </div>

                    <div class="faq-item">
                        <h4>Can I edit expenses after submission?</h4>
                        <p>Currently, expenses cannot be edited after submission. If changes are needed, the expense
                            should be rejected and resubmitted with the correct information.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('supportForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const formData = {
                name: document.getElementById('supportName').value,
                email: document.getElementById('supportEmail').value,
                category: document.getElementById('supportCategory').value,
                priority: document.getElementById('supportPriority').value,
                subject: document.getElementById('supportSubject').value,
                message: document.getElementById('supportMessage').value,
                timestamp: new Date().toISOString()
            };

            // Save support request to localStorage (in real app, this would be sent to server)
            let supportRequests = JSON.parse(localStorage.getItem('supportRequests')) || [];
            formData.id = Date.now();
            supportRequests.push(formData);
            localStorage.setItem('supportRequests', JSON.stringify(supportRequests));

            // Show success message
            const responseDiv = document.getElementById('supportResponse');
            responseDiv.innerHTML = `
                <div class="support-success">
                    <h4>‚úÖ Message Sent Successfully!</h4>
                    <p>Thank you, <strong>${formData.name}</strong>! Your support request has been received.</p>
                    <p><strong>Ticket ID:</strong> #${formData.id}</p>
                    <p><strong>Category:</strong> ${formData.category}</p>
                    <p><strong>Priority:</strong> ${formData.priority}</p>
                    <p>We will respond to your inquiry at <strong>${formData.email}</strong> within 24 hours.</p>
                    <p><em>Your message:</em> "${formData.message}"</p>
                </div>
            `;

            // Reset form
            document.getElementById('supportForm').reset();

            // Scroll to response
            responseDiv.scrollIntoView({ behavior: 'smooth' });
        });

        // FAQ accordion functionality
        document.addEventListener('DOMContentLoaded', function () {
            const faqItems = document.querySelectorAll('.faq-item h4');
            faqItems.forEach(item => {
                item.style.cursor = 'pointer';
                item.addEventListener('click', function () {
                    const content = this.nextElementSibling;
                    const currentDisplay = window.getComputedStyle(content).display;

                    if (currentDisplay === 'none') {
                        content.style.display = 'block';
                    } else {
                        content.style.display = 'none';
                    }
                });
            });
        });

        //logout
        function logout() {
            let confirmLogout = confirm("Are you sure you want to log out?");
            if (confirmLogout) {
                // Clear stored data
                localStorage.clear();

                // Redirect to signup page
                window.location.href = "signup.html";
            } else {
                // User canceled logout
                return;
            }
        }

    </script>
</body>

</html>